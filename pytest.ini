[tool:pytest]
# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test markers for categorization
markers =
    integration: Integration tests that test multiple components together
    unit: Unit tests that test individual functions or classes
    slow: Slow running tests that may take more time
    performance: Performance and load tests (very slow)
    enhanced_k: Tests for Enhanced K Determination system
    database: Tests requiring database access
    time_parser: Time parsing functionality tests
    agent: Agent system tests
    summarizer: Message summarization tests
    utils: Utility function tests
    faiss: Tests requiring FAISS indices
    ai_validation: Tests using AI for validation
    temporal: marks tests for temporal query functionality
    preprocessing: marks tests for preprocessing functionality
    embedding: marks tests for embedding functionality

# Output configuration
addopts = 
    --tb=short
    --strict-markers
    -v
    --color=yes
    --disable-warnings
    -ra

# Test environment
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Minimum version requirements
minversion = 6.0
